<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EiBraille</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'basicbraille.css' %}">
    <link rel="shortcut icon" type="x-icon" href="https://firebasestorage.googleapis.com/v0/b/brailleproject-8091a.appspot.com/o/Frontend%2FLessonpage%2FLogo.svg?alt=media&token=15969fac-1d91-4154-805e-ab2bb7494147">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai+Looped:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <div id="background-music-container" style="display: none;">
        <iframe id="background-music" width="0" height="0" src="https://www.youtube.com/embed/{{ YOUTUBE_VIDEO_ID }}?autoplay=1&loop=1&playlist={{ YOUTUBE_VIDEO_ID }}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
    <button id="mute-button" style="position: fixed; bottom: 10px; right: 10px; z-index: 1000;">Mute</button>
    
    <center>
        <div class="All">

        <a href="{% url 'smallalphabetlearning' 1 %}">
            <button name="พยัญชนะ" id="พยัญชนะ" class="AtoZ" onmouseover="speakText('พยัญชนะ')">
                <center><span></span></center>
                <img draggable="false"  class="payan" src="https://firebasestorage.googleapis.com/v0/b/brailleproject-8091a.appspot.com/o/Frontend%2FChooselesson%2FG1.svg?alt=media&token=98e52091-ddca-465c-a1c1-ce7c01104be5" alt="Lesson">
            </button>
        </a>

        <a href="{% url 'bigalphabetlearning' 1 %}">
            <button name="สระ" id="สระ" class="vowel" onmouseover="speakText('สระ')">
                <center><span></span></center>
                <img draggable="false"  class="payan" src="https://firebasestorage.googleapis.com/v0/b/brailleproject-8091a.appspot.com/o/Frontend%2FChooselesson%2FG2%20(2).svg?alt=media&token=c692af34-3cb1-46fd-a910-4b3ade8421bd" alt="Lesson">
            </button>
        </a>

        <a href="{% url 'numberlearning' 1 %}">
            <button name="เลขสากล" id="เลขสากล" class="Num" onmouseover="speakText('เลขสากล')">
                <center><span></span></center>
                <img draggable="false"  class="one" src="https://firebasestorage.googleapis.com/v0/b/brailleproject-8091a.appspot.com/o/Frontend%2FChooselesson%2FG3.svg?alt=media&token=15978698-f29a-498d-9da6-c8c58d472f23" alt="Lesson">
            </button>
        </a>

        <button name="เลขไทย" id="เลขไทย" class="NumT" onmouseover="speakText('เลขไทย')">
            <center><span></span></center>
            <img draggable="false"  class="onethai" src="https://firebasestorage.googleapis.com/v0/b/brailleproject-8091a.appspot.com/o/Frontend%2FChooselesson%2FG4.svg?alt=media&token=66142245-fe6e-4c0d-af14-9acf25848b1b" alt="Lesson">
        </button>
        </div>
    </center>

    <div class="interactcontent">
        <center>
            <a href="{% url 'homescreen' %}">
                <button class="Next">
                    <img draggable="false" src="../../EbrailleAssets/uploads/Group_293.png" alt="Bookmark">
                </button>
            </a>
        </center>
    </div>

    <audio id="tts-audio" controls style="display:none;"></audio>

    <script>
            let isMuted = false;

document.addEventListener("DOMContentLoaded", function() {
    var iframe = document.getElementById("background-music");
    var muteButton = document.getElementById("mute-button");

    iframe.src = iframe.src;

    muteButton.addEventListener("click", function() {
        if (isMuted) {
            // Unmute the video
            iframe.src = `https://www.youtube.com/embed/{{ YOUTUBE_VIDEO_ID }}?autoplay=1&loop=1&playlist={{ YOUTUBE_VIDEO_ID }}`;
            muteButton.textContent = 'Mute';
        } else {
            // Mute the video
            iframe.src = `https://www.youtube.com/embed/{{ YOUTUBE_VIDEO_ID }}?autoplay=1&loop=1&playlist={{ YOUTUBE_VIDEO_ID }}&mute=1`;
            muteButton.textContent = 'Unmute';
        }
        isMuted = !isMuted;
    });
});
        function speakText(text) {
            fetch(`/exercise/speak/?text=${encodeURIComponent(text)}&lang=th`)
                .then(response => response.blob())
                .then(blob => {
                    const audio = document.getElementById('tts-audio');
                    audio.src = URL.createObjectURL(blob);
                    audio.style.display = 'none';
                    audio.play();
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }
    </script>
</body>
</html>
